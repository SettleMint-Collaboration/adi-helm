# TLS with cert-manager
# Layer this on top of your base values file
#
# Prerequisites:
#   - cert-manager installed: https://cert-manager.io/docs/installation/
#   - ClusterIssuer created (see examples below)
#
# Usage:
#   helm install adi-stack ./adi-stack \
#     -f examples/values-testnet.yaml \
#     -f examples/values-cloud-aws.yaml \
#     -f examples/values-tls-certmanager.yaml \
#     --set ingress.hostname=adi.example.com
#
# Create a ClusterIssuer first:
# ---
# apiVersion: cert-manager.io/v1
# kind: ClusterIssuer
# metadata:
#   name: letsencrypt-prod
# spec:
#   acme:
#     server: https://acme-v02.api.letsencrypt.org/directory
#     email: your-email@example.com
#     privateKeySecretRef:
#       name: letsencrypt-prod-account-key
#     solvers:
#       - http01:
#           ingress:
#             class: alb  # or nginx, gce, etc.

ingress:
  tls:
    enabled: true
    # Leave empty - cert-manager will create the secret automatically
    secretName: ""

  kubernetes:
    annotations:
      # Use letsencrypt-prod for production, letsencrypt-staging for testing
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
      # Optional: specify certificate duration (default 90 days)
      # cert-manager.io/duration: "2160h"  # 90 days
      # cert-manager.io/renew-before: "360h"  # 15 days
